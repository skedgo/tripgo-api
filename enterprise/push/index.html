<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		 
		<meta name="author" content="SkedGo Pty Ltd" />
		 
		<link rel="canonical" href="https://developer.tripgo.com/enterprise/push/" />
		
		<link
			rel="apple-touch-icon"
			sizes="57x57"
			href="../../img/favicon/apple-icon-57x57.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="60x60"
			href="../../img/favicon/apple-icon-60x60.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="72x72"
			href="../../img/favicon/apple-icon-72x72.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="76x76"
			href="../../img/favicon/apple-icon-76x76.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="114x114"
			href="../../img/favicon/apple-icon-114x114.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="120x120"
			href="../../img/favicon/apple-icon-120x120.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="144x144"
			href="../../img/favicon/apple-icon-144x144.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="152x152"
			href="../../img/favicon/apple-icon-152x152.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="../../img/favicon/apple-icon-180x180.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="192x192"
			href="../../img/favicon/android-icon-192x192.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="../../img/favicon/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="96x96"
			href="../../img/favicon/favicon-96x96.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="../../img/favicon/favicon-16x16.png"
		/>
		<link rel="manifest" href="../../img/favicon/manifest.json" />
		<meta name="msapplication-TileColor" content="#154c7b" />
		<meta
			name="msapplication-TileImage"
			content="../../img/favicon/ms-icon-144x144.png"
		/>
		<meta name="theme-color" content="#154c7b" />
		<title>
			Push Notifications - TripGo Developer
		</title>

		<link rel="stylesheet" href="../../css/main-above.css" />
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
		<![endif]-->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=G-C12N56MG8C"
		></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());

			gtag("config", "G-C12N56MG8C");
		</script> 
	</head>
	<body >
		<header class="navbar">
	
	<div class="search-container">
		<a class="search" href="#"></a><div class="search-form" id="mkdocs_search_modal" tabindex="-1" raria-labelledby="Search Modal" aria-hidden="true">
    <form role="form" class="container">
        <div class="search-icon"></div>
        <input type="text" class="search-field" placeholder="Type keyword..." id="mkdocs-search-query">
    </form>
    <div class="results-list">
    	<div id="mkdocs-search-results" class="container"></div>
    </div>
</div>
	</div>
	
	<div class="container-fluid flex">
		<a class="logo" href="../..">
			<img
				src="../../img/tripgo-api-logo-white.svg"
				alt="TripGo API Logo White"
				height="32"
				width="140"
			/>
		</a>

		<div class="divider"></div>
		<a class="menu-toggle" type="button" href="#" aria-hidden="true">
			<div class="bar-container">
				<span class="bar-1"></span>
				<span class="bar-2"></span>
				<span class="bar-3"></span>
			</div>
		</a>
		<div
			class="menu "
			aria-hidden="false"
		>
			
			<ul>
				 
				<li class="">
					<a href="../..">Getting Started</a>
				</li>
				  
				<li class="">
					<a href="../../faq/">F.A.Q.</a>
				</li>
				  
				<li class="">
					<a href="../../extensions/">Extensions</a>
				</li>
				  
				<li class="">
					<a href="/specs/">Reference</a>
				</li>
				  
				<li>
					<a href="#" class="dropdown">Enterprise</a>
					<ul class="submenu">
						
						<li class="current">
							<a href="./"
								>Push Notifications</a
							>
						</li>
						
						<li class="">
							<a href="../tripurls/"
								>Trip URLs</a
							>
						</li>
						
						<li class="">
							<a href="../bookings-api/"
								>Bookings</a
							>
						</li>
						
					</ul>
				</li>
				  
				<li>
					<a href="#" class="dropdown">Developer</a>
					<ul class="submenu">
						
						<li class="">
							<a href="https://developer.tripgo.com/"
								>Docs</a
							>
						</li>
						
						<li class="">
							<a href="https://developer.tripgo.com/specs"
								>API</a
							>
						</li>
						
						<li class="">
							<a href="https://android.developer.tripgo.com"
								>Android</a
							>
						</li>
						
						<li class="">
							<a href="https://ios.developer.tripgo.com"
								>iOS</a
							>
						</li>
						
						<li class="">
							<a href="https://react.developer.tripgo.com"
								>React</a
							>
						</li>
						
					</ul>
				</li>
				  
				<li class="">
					<a href="https://www.skedgo.com">SkedGo</a>
				</li>
				 
			</ul>
			
			<ul>
				<li>
					<a href="https://tripgo.3scale.net/login">Log in</a>
				</li>
				<li>
					<a href="https://tripgo.3scale.net/#plans">Sign up</a>
				</li>
			</ul>
		</div>
	</div>
</header>

		<div class="container -layout-3-9">
			<div class="col" role="complementary"><div class="sidebar hidden-print affix" role="complementary" id="sidebar">
	<div class="indicator"></div>
    <ul class="nav sidenav">
        <li class="main "><a href="#push-notifications" class="active">Push Notifications</a></li>
            <li><a href="#android" class="">Android</a></li>
            <li><a href="#ios" class="">iOS</a></li>
            <li><a href="#sending-pn" class="">Sending PN</a></li>
    </ul>
</div></div>
			<div class="col content" role="main">
				

<h1 id="push-notifications">Push Notifications</h1>
<p><strong>Note: Enterprise customers-only</strong></p>
<p><img alt="Notification" src="/img/tripgo-api-notification@2x-100.jpg" /></p>
<p>We support Push Notifications for both Android (using <a href="https://firebase.google.com/docs/notifications/?hl=es">Firebase</a>) and iOS (using <a href="https://developer.apple.com/notifications/">APN</a>) devices. In order to enable and use Push Notifications, the following steps are required:</p>
<ul>
<li>Register (only once) in SkedGo backend the corresponding credentials/certificates for each platform (See sections below for details).</li>
<li>Each app instance should register itself in the corresponding platform and save the obtained token in SkedGo database, using <a href="/specs/push/#tag/User">data/user/push</a> endpoint.</li>
<li>To send PN to your user, you need to know the user ID on our database and use <a href="/specs/push/#tag/Push">data/push</a> endpoint, which is filtered by IP address (check with us whether your IP address is whitelisted). </li>
</ul>
<h2 id="android">Android</h2>
<p>You need to create your own project in <a href="https://console.firebase.google.com">Firebase</a> and send to us the <code>Server Key</code> in your <code>project settings &gt; cloud messaging</code> tab.</p>
<p>For instructions on how to implement Push Notifications in Android, go to <a href="https://firebase.google.com/docs/cloud-messaging">Firebase Cloud Messaging</a>.</p>
<p>In short, your app needs to register into FCM to get a token and save it into our database for later usage (see <a href="/swagger/?url=https://raw.githubusercontent.com/skedgo/tripgo-api/gh-pages/specs/pn.swagger.yaml">data/user/push</a> endpoint). Note that this token may change, any time that happens you need to save it again in the database.</p>
<h2 id="ios">iOS</h2>
<p>You need to configure your app for APN, follow instructions <a href="http://help.apple.com/xcode/mac/current/#/dev11b059073">from Apple</a> or <a href="https://docs.fastlane.tools/actions/pem/">use fastlane</a>, and then send us both the P12 file, containing the <a href="http://help.apple.com/xcode/mac/current/#/dev11b059073?sub=dev1eb5dfe65">Apple Push Notification Authentication Key</a>, and the password to unlock it.</p>
<p>For instructions on how to implement Push Notifications in iOS, go to <a href="https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/HandlingRemoteNotifications.html#//apple_ref/doc/uid/TP40008194-CH6-SW4">Configuring Remote Notification</a>.</p>
<p>In short, your app needs to register into APN to get a token and save it into our database for later usage (see <a href="/specs/push/#tag/User">data/user/push</a> endpoint). Note that this token may change, any time that happens you need to save it again in the database. The token returned by the iOS SDK will be a binary data object, while our backend expends a string. To turn the data into a string, use this snipped:</p>
<pre><code class="language-swift">let tokenString = tokenData.reduce(into: &quot;&quot;) { $0.append(String(format: &quot;%02X&quot;, $1)) }
</code></pre>
<p>When receiving push notifications, additional fields that were provide in the <code>data</code> part when sending the notification, will be accessible to your app via the <code>userInfo</code> that's attached to the content of the notification. The <code>clickAction</code> will end up in the notification's content's <code>categoryIdentifier</code>.</p>
<h2 id="sending-pn">Sending PN</h2>
<p>If you want to send PN to your users, you first need to have your server/s IP/s address/es whitelisted in our platform. Then, you can use <a href="/specs/push/#tag/Push">data/push</a> endpoint to send notifications to a list of users (by their userID).</p>
<p>Notifications that we send support a title, message, sound and badge, with a ttl (time to live) value, as well as custom <code>data</code> which will be passed on to your apps. Be mindful of size limits imposed by Firebase or APN.</p>
			</div>
		</div>
		<div class="navbar-bottom" role="navigation">
	<div class="container -layout-6-6">
			    <div class="col">
			        <a rel="next" href="/extensions/" class="prev">
			            <div class="label">
			            	Previous
			            </div>
			            <div class="title">
			            	Extensions
			            </div>
			        </a>
			    </div>
			    <div class="col">
			        <a rel="prev" href="/enterprise/tripurls/" class="next">
			            <div class="label">
			            	Next
			            </div>
			            <div class="title">
			            	Trip URLs
			            </div>
			        </a>
			    </div>
	</div>
</div> <footer class="footer">
	<div class="logo">
		<img src="../../img/tripgo-api-logo-mono.svg" alt="TripGo Logo" width="134" height="34">
	</div>
	<ul class="menu">
		<li>
			<a href="https://www.skedgo.com">SkedGo website</a>
		</li>
		<li>
			<a href="https://skedgo.com/en/tripgo-api/pricing/">Pricing</a>
		</li>
		<li>
			<a href="https://github.com/skedgo/tripgo-api/issues">Report issue</a>
		</li>
		<li>
			<a href="mailto:api@tripgo.com">Email support</a>
		</li>
		<li>
			<a href="http://slack.tripgo.com/">Slack community</a>
		</li>
	</ul>
</footer>
		<link rel="stylesheet" href="../../css/main.css" />
		<link
			rel="stylesheet"
			href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"
		/>
		<script>
			var base_url = "../..";
		</script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
		<script src="../../js/app.min.js"></script>
		<script src="../../search/main.js"></script>
		<script>
			hljs.initHighlightingOnLoad();
		</script>
	</body>
</html>